<br>
<ul><li>Within the resource to create multiple times,  you can define a copy object that specifies the number of times to iterate. The  copy takes the following format</li>
</ul><p>
<div>
  <blockquote>
    <p>&quot;copy&quot;: { <br>
      &nbsp;&nbsp;&nbsp; &quot;name&quot;: &quot;websites      copy&quot;, <br>
      &nbsp;&nbsp;&nbsp; &quot;count&quot;:      &quot;[parameters('count')]&quot; <br>
      } </p>
  </blockquote>
</div>
<ul>
  <br><li>You can access the current iteration value  with the copyIndex() function. The following example uses copyIndex with the  concat function to construct a name.</li>
</ul>
<p>
<div>
  <blockquote>
    <p>[concat('examplecopy-',      copyIndex())]</p>
  </blockquote>
</div>
<ul>
 <br><li>When creating multiple resources from an  array of values, you can use the length function to specify the count. You  provide the array as the parameter to the length function</li>
</ul>
<p>
<div>
  <blockquote>
    <p>&quot;copy&quot;: {<br>
      &nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;websitescopy&quot;,<br>
      &nbsp;&nbsp;&nbsp; &quot;count&quot;:      &quot;[length(parameters('siteNames'))]&quot;<br>
      }<br>
      &quot;resources&quot;: [<br>
      &nbsp; {<br>
      &nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;{provider-namespace-and-type}&quot;<br>
      &quot;name&quot;: &quot;parentResource&quot;,<br>
      &nbsp;&nbsp;&nbsp; &quot;copy&quot;:      {&nbsp; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* yes, copy can be      applied here */<br>
      &nbsp;&nbsp;&nbsp; },<br>
      &nbsp;&nbsp;&nbsp; &quot;properties&quot;:      {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &quot;exampleProperty&quot;: {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* no, copy cannot      be applied here */<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } },<br>
      &quot;resources&quot;: [<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;{provider-type}&quot;,<br>
      &quot;name&quot;: &quot;childResource&quot;,<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /* copy can be      applied if resource is promoted to top level */ <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
      &nbsp;&nbsp;&nbsp; ]<br>
      &nbsp; } ]</p>
  </blockquote>
</div>
<p>&nbsp;</p>
<br><p>Although you cannot apply&nbsp;<strong>copy&nbsp;</strong>to a property, that property  is still part of the iterations of the resource that contains the property.  Therefore, you can use&nbsp;copyIndex()&nbsp;within the property to specify  values. </p>
<ul><li>There are several scenarios where you might  want to iterate on a property in a resource. For example, you may want to  specify multiple data disks for a virtual machine. To see how to iterate on a  property, see&nbsp;<a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-group-create-multiple#create-multiple-instances-when-copy-wont-work" Target="blank">Create multiple instances when copy  won't work</a>.</li>
</ul>
<br><strong>Use Index value in name</strong><br>
  You can use the copy operation create  multiple instances of a resource that are uniquely named based on the  incrementing index. For example, you might want to add a unique number to the  end of each resource name that is deployed. To deploy three web sites named:</p>
<ul>
  <li>examplecopy-0</li>
  <li>examplecopy-1</li>
  <li>examplecopy-2.</li>
</ul>
<<br>p>Use the following template<br>
<div>
  <blockquote>
    <p>&quot;parameters&quot;: { <br>
      &nbsp; &quot;count&quot;: { <br>
      &nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;int&quot;, <br>
      &nbsp;&nbsp;&nbsp; &quot;defaultValue&quot;:      3 <br>
      &nbsp; } <br>
      }, <br>
      &quot;resources&quot;: [ <br>
      &nbsp; { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;[concat('examplecopy-', copyIndex())]&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;Microsoft.Web/sites&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;location&quot;:      &quot;East US&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &quot;apiVersion&quot;: &quot;2015-08-01&quot;,<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;copy&quot;: { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;websitescopy&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;count&quot;:      &quot;[parameters('count')]&quot; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &quot;properties&quot;: {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &quot;serverFarmId&quot;: &quot;hostingPlanName&quot;<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br>
      &nbsp; } <br>
      ] </p>
  </blockquote>
</div>
</p>
<br><p><strong>Offset index value</strong><br>
In the preceding example, the index value  goes from zero to 2. To offset the index value, you can pass a value in the&nbsp;<strong>copyIndex()</strong>&nbsp;function,  such as&nbsp;<strong>copyIndex(1)</strong>. The number of iterations to perform is still  specified in the copy element, but the value of copyIndex is offset by the  specified value. So, using the same template as the previous example, but  specifying&nbsp;<strong>copyIndex(1)</strong>&nbsp;would deploy three web sites named:</p>
<ul>
  <li>examplecopy-1</li>
  <li>examplecopy-2</li>
  <li>examplecopy-3</li>
</ul>
<br><p><strong>Use Copy with Array</strong><br>
  The copy operation is helpful when working  with arrays because you can iterate through each element in the array. To  deploy three web sites named</p>
<ul>
  <li>examplecopy-Contoso</li>
  <li>examplecopy-Fabrikam</li>
  <li>examplecopy-Coho</li>
</ul>
<p>Use the following template: <br>
<div>
  <blockquote>
    <p>&quot;parameters&quot;: { <br>
      &nbsp; &quot;org&quot;: { <br>
      &nbsp;&nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;array&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp; &quot;defaultValue&quot;:      [ <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Contoso&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;Fabrikam&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&quot;Coho&quot; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ] <br>
      &nbsp; }<br>
      }, <br>
      &quot;resources&quot;: [ <br>
      &nbsp; { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;[concat('examplecopy-', parameters('org')[copyIndex()])]&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;Microsoft.Web/sites&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;location&quot;:      &quot;East US&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;apiVersion&quot;:      &quot;2015-08-01&quot;,<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;copy&quot;: { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;websitescopy&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;count&quot;:      &quot;[length(parameters('org'))]&quot; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;properties&quot;:      {<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &quot;serverFarmId&quot;: &quot;hostingPlanName&quot;<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
      &nbsp;      } </p>
    <p>&quot;variables&quot;: { <br>
      &nbsp;&nbsp;&nbsp;&nbsp; &quot;storage&quot;: { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;[concat(uniqueString(resourceGroup().id),'storage')]&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;Standard_LRS&quot; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; } <br>
      &nbsp;}, <br>
      &nbsp;&quot;resources&quot;: [ <br>
      &nbsp;&nbsp; { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;type&quot;:      &quot;Microsoft.Storage/storageAccounts&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;[variables('storage').name]&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;apiVersion&quot;:      &quot;2016-01-01&quot;, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;location&quot;:      &quot;[resourceGroup().location]&quot;, <br>
      &nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;sku&quot;: { <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;name&quot;:      &quot;[variables('storage').type]&quot; <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }, <br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ... <br>
      &nbsp;&nbsp; } <br>
      &nbsp;] </p>
    <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;      &quot;serverFarmId&quot;: &quot;hostingPlanName&quot;<br>
      &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } <br>
      &nbsp;      }</p>
  </blockquote>
</div>
